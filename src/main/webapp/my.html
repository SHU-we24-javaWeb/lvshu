<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人中心 - 小绿书</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,400;0,700;1,200&family=Unbounded:wght@400;700&display=swap"
        rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-icons.css" rel="stylesheet">
    <link href="css/tooplate-kool-form-pack.css" rel="stylesheet">
    <link href="css/my.css" rel="stylesheet">
</head>

<body>
    <!-- 视频背景 -->
    <div class="video-wrap">
        <video autoplay loop muted class="custom-video">
            <source src="videos/video.mp4" type="video/mp4">
        </video>
    </div>

    <!-- 菜单栏 -->
    <div class="menu-buttons">
        <a href="home.html" class="menu-btn">
            <i class="bi bi-house-door"></i> 首页
        </a>
        <a href="search.html" class="menu-btn">
            <i class="bi bi-search"></i> 搜索
        </a>
        <a href="create.html" class="menu-btn">
            <i class="bi bi-fire"></i> 创作
        </a>
        <a href="my.html" class="menu-btn active">
            <i class="bi bi-person"></i> 我的
        </a>
    </div>

    <!-- 个人中心内容 -->
    <div class="profile-section">
        <div class="container">
            <!-- 个人信息卡片 -->
            <div class="profile-card">
                <div class="profile-header">
                    <img id="userAvatar" src="images/default-avatar.jpg" alt="用户头像" class="profile-avatar">
                    <div class="profile-info">
                        <h2 id="username">用户昵称</h2>
                        <p id="userSignature">个性签名：热爱旅行，记录生活的点点滴滴</p>
                        <div class="profile-stats">
                            <div class="stat-item">
                                <div class="stat-value" id="favoriteCount">42</div>
                                <div class="stat-label">收藏</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="followingCount">128</div>
                                <div class="stat-label">关注</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="followersCount">256</div>
                                <div class="stat-label">粉丝</div>
                            </div>
                        </div>
                        <br>
                        <!-- 个人详细信息 -->
                        <div class="profile-details">
                            <p><strong>性别：</strong><span id="gender">没写性别</span></p>
                            <p><strong>地区：</strong><span id="nativePlace">没写地区</span></p>
                            <p><strong>电话：</strong><span id="mobilePhone">没写电话</span></p>
                            <p><strong>邮箱：</strong><span id="email">没写邮箱</span></p>
                            <p><strong>专业：</strong><span id="major">没写专业</span></p>
                        </div>
                        <a href="edit-profile.html" class="edit-btn" data-toggle="modal" data-target="#editProfileModal">
                            <i class="bi bi-pencil"></i> 编辑资料
                        </a>
                    </div>
                </div>
            </div>


            <!-- 修改内容部分的布局 -->
            <div class="content-section mt-4">
                <div class="row">
                    <!-- 我的收藏 -->
                    <div class="col-md-6">
                        <div class="section-card">
                            <h3 class="text-white mb-4">我的收藏</h3>
                            <div class="collection-grid" id="myFavorites">
                                <!-- 收藏内容将通过JavaScript动态加载 -->
                            </div>
                        </div>
                    </div>

                    <!-- 我的攻略 -->
                    <div class="col-md-6">
                        <div class="section-card">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <h3 class="text-white mb-0">我的攻略</h3>
                                <a href="create.html" class="edit-btn">
                                    <i class="bi bi-pencil"></i> 发布新攻略
                                </a>
                            </div>
                            <div class="collection-grid" id="myGuides">
                                <!-- 攻略内容将通过JavaScript动态加载 -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 修改编辑资料模态框部分 -->
    <div class="modal fade" id="editProfileModal" tabindex="-1" role="dialog" aria-labelledby="editProfileModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content bg-dark text-white">
                <div class="modal-header">
                    <h4 class="modal-title" id="editProfileModalLabel">编辑个人资料</h4>
                    <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="editProfileForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>头像</label>
                                    <input type="file" class="form-control-file" name="avatar" accept="image/*">
                                    <img id="avatarPreview" src="" alt="头像预览" class="mt-2"
                                        style="max-width: 150px; display: none;">
                                </div>
                                <div class="form-group">
                                    <label>用户名</label>
                                    <input type="text" class="form-control" name="username" value="当前用户名" readonly>
                                </div>
                                <div class="form-group">
                                    <label>性别</label>
                                    <select class="form-control" name="gender">
                                        <option value="M">男</option>
                                        <option value="F">女</option>
                                        <option value="O">其他</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>出生日期</label>
                                    <input type="date" class="form-control" name="dateOfBirth">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>手机号</label>
                                    <input type="tel" class="form-control" name="mobilePhone" pattern="[0-9]{11}">
                                </div>
                                <div class="form-group">
                                    <label>邮箱</label>
                                    <input type="email" class="form-control" name="email">
                                </div>
                                <div class="form-group">
                                    <label>籍贯</label>
                                    <input type="text" class="form-control" name="nativePlace">
                                </div>
                                <div class="form-group">
                                    <label>专业</label>
                                    <input type="text" class="form-control" name="major">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>个性签名</label>
                            <textarea class="form-control" name="signature" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" onclick="updateProfile()">保存更改</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 退出登录按钮 -->
    <div class="text-center mt-4">
        <button class="btn btn-danger" onclick="logout()">退出登录</button>
    </div>

    <br><br><br>

    <!-- 页脚 -->
    <footer>
        <div class="container">
            <p class="text-center mb-0">© 2025 小绿书--小旅SHU旅游交流平台 版权所有</p>
        </div>
    </footer>

    <!-- JavaScript 文件 -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/my.js"></script>
</body>

</html>